[{"C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\firebase.js":"1","C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\components\\modal\\BlacklistModal.tsx":"2","C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\components\\inputs\\LocationSearchInput.tsx":"3","C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\components\\menus\\SideMenu.tsx":"4","C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\App.tsx":"5","C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\components\\Main.tsx":"6","C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\contexts\\AuthContext.js":"7","C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\index.js":"8","C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\dao\\index.js":"9","C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\data\\index.js":"10","C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\components\\crystalball\\index.tsx":"11","C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\components\\menus\\UserMenu.tsx":"12","C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\components\\modal\\SuggestionsModal.tsx":"13"},{"size":645,"mtime":1605891023703,"results":"14","hashOfConfig":"15"},{"size":1132,"mtime":1606353006722,"results":"16","hashOfConfig":"15"},{"size":2727,"mtime":1606424500313,"results":"17","hashOfConfig":"15"},{"size":5818,"mtime":1606396966940,"results":"18","hashOfConfig":"15"},{"size":252,"mtime":1606351825575,"results":"19","hashOfConfig":"15"},{"size":6775,"mtime":1606424045448,"results":"20","hashOfConfig":"15"},{"size":3383,"mtime":1606424254548,"results":"21","hashOfConfig":"15"},{"size":219,"mtime":1605661327237,"results":"22","hashOfConfig":"15"},{"size":1893,"mtime":1606351799696,"results":"23","hashOfConfig":"15"},{"size":812,"mtime":1606351297154,"results":"24","hashOfConfig":"15"},{"size":4344,"mtime":1606352163317,"results":"25","hashOfConfig":"15"},{"size":2397,"mtime":1606353211369,"results":"26","hashOfConfig":"15"},{"size":2995,"mtime":1606424560517,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"4qbl0u",{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"44"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\firebase.js",[],"C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\components\\modal\\BlacklistModal.tsx",[],"C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\components\\inputs\\LocationSearchInput.tsx",[],"C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\components\\menus\\SideMenu.tsx",[],["57","58"],"C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\App.tsx",[],"C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\components\\Main.tsx",[],"C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\contexts\\AuthContext.js",["59"],"import React from \"react\";\r\nimport firebase from \"firebase\";\r\nimport dao from \"../dao\";\r\n\r\nexport const AuthContext = React.createContext();\r\n\r\nexport function AuthProvider({ children }) {\r\n  const db = firebase.firestore();\r\n  const auth = firebase.auth();\r\n  auth.useDeviceLanguage();\r\n\r\n  const [user, setUser] = React.useState(null);\r\n  const [userSuggestions, setUserSuggestions] = React.useState([]);\r\n  const [userBlacklist, setUserBlacklist] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(function (user) {\r\n      let blacklistUnsubscribe;\r\n      let suggestionsUnsubscribe;\r\n\r\n      if (user) {\r\n        setUser(user);\r\n\r\n        const uid = user.uid;\r\n\r\n        blacklistUnsubscribe = addListener(uid, \"blacklist\", setUserBlacklist);\r\n        suggestionsUnsubscribe = addListener(\r\n          uid,\r\n          \"suggestions\",\r\n          setUserSuggestions\r\n        );\r\n      } else {\r\n        setUser(null);\r\n\r\n        blacklistUnsubscribe();\r\n        suggestionsUnsubscribe();\r\n      }\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, [addListener, auth]);\r\n\r\n  function addListener(uid, collection, setter) {\r\n    return db\r\n      .collection(\"users\")\r\n      .doc(uid)\r\n      .collection(collection)\r\n      .onSnapshot((collection) => {\r\n        const docs = [];\r\n\r\n        collection.forEach((doc) => {\r\n          const data = doc.data();\r\n          data.id = doc.id;\r\n          docs.push(data);\r\n        });\r\n\r\n        setter(docs);\r\n      });\r\n  }\r\n\r\n  async function addToUserSuggestions(item) {\r\n    try {\r\n      const ref = dao.getBaseRef();\r\n\r\n      const suggestionsRef = ref.collection(\"suggestions\");\r\n      await dao.createDocument(suggestionsRef, item);\r\n    } catch (error) {\r\n      console.log(\"Error inserting suggestion\", error);\r\n    }\r\n  }\r\n\r\n  async function removeFromUserSuggestions(id) {\r\n    try {\r\n      const ref = dao.getBaseRef();\r\n\r\n      const suggestionsRef = ref.collection(\"suggestions\").doc(id);\r\n      await dao.deleteDocument(suggestionsRef);\r\n    } catch (error) {\r\n      console.log(\"Error removing doc\", error);\r\n    }\r\n  }\r\n\r\n  async function addToUserBlacklist(item) {\r\n    try {\r\n      const ref = dao.getBaseRef();\r\n\r\n      const blacklistRef = ref.collection(\"blacklist\");\r\n      await dao.createDocument(blacklistRef, item);\r\n    } catch (error) {\r\n      console.log(\"Error inserting blacklist\", error);\r\n    }\r\n  }\r\n\r\n  async function removeFromUserBlacklist(id) {\r\n    try {\r\n      const ref = dao.getBaseRef();\r\n\r\n      const blacklistRef = ref.collection(\"blacklist\").doc(id);\r\n      await dao.deleteDocument(blacklistRef);\r\n    } catch (error) {\r\n      console.log(\"Error inserting doc\", error);\r\n    }\r\n  }\r\n\r\n  async function signIn() {\r\n    try {\r\n      const googleProvider = new firebase.auth.GoogleAuthProvider();\r\n\r\n      await auth.signInWithPopup(googleProvider);\r\n    } catch (error) {\r\n      console.log(\"ERROR ON SIGNIN\", error);\r\n    }\r\n  }\r\n\r\n  function signOut() {\r\n    auth.signOut();\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        user,\r\n        signIn,\r\n        signOut,\r\n\r\n        userSuggestions,\r\n        addToUserSuggestions,\r\n        removeFromUserSuggestions,\r\n\r\n        userBlacklist,\r\n        addToUserBlacklist,\r\n        removeFromUserBlacklist,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n",["60","61"],"C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\index.js",[],"C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\dao\\index.js",[],"C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\data\\index.js",[],"C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\components\\crystalball\\index.tsx",[],"C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\components\\menus\\UserMenu.tsx",[],"C:\\Users\\arthur.wosniaki\\Desktop\\rolezator-app\\src\\components\\modal\\SuggestionsModal.tsx",[],{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":43,"column":3,"nodeType":"68","endLine":59,"endColumn":4},{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},"no-native-reassign",["69"],"no-negated-in-lhs",["70"],"react-hooks/exhaustive-deps","The 'addListener' function makes the dependencies of useEffect Hook (at line 41) change on every render. Move it inside the useEffect callback. Alternatively, wrap the definition of 'addListener' in its own useCallback() Hook.","FunctionDeclaration","no-global-assign","no-unsafe-negation"]